{"version":3,"file":"bundle.js","mappings":"mBACA,IAAIA,EAAsB,CCA1BA,EAAwB,CAACC,EAASC,KACjC,IAAI,IAAIC,KAAOD,EACXF,EAAoBI,EAAEF,EAAYC,KAASH,EAAoBI,EAAEH,EAASE,IAC5EE,OAAOC,eAAeL,EAASE,EAAK,CAAEI,YAAY,EAAMC,IAAKN,EAAWC,MCJ3EH,EAAwB,CAACS,EAAKC,IAAUL,OAAOM,UAAUC,eAAeC,KAAKJ,EAAKC,GCClFV,EAAyBC,IACH,oBAAXa,QAA0BA,OAAOC,aAC1CV,OAAOC,eAAeL,EAASa,OAAOC,YAAa,CAAEC,MAAO,WAE7DX,OAAOC,eAAeL,EAAS,aAAc,CAAEe,OAAO,M,KCFhD,SAASC,EAAeC,GAC3BC,QAAQC,IAAI,qCAEZ,MAAMC,EAAUH,EAAKG,QACrB,IAAIC,EAAiB,GAErB,IAAK,IAAIC,KAAUF,EAAS,CACxB,GAAIE,EAAOC,SAAS,KAChB,SAGJ,IAAIC,EADYJ,EAAQE,GACI,OAE5BD,GAWI,UAHSI,EARiBH,mBAWOG,KAUlCC,EAXkBD,EAWQE,MAAM,KAAK,QApBxC,IAAK,MAAOzB,EAAKa,KAAUX,OAAOwB,QAAQJ,GACtCH,GAAkBQ,EAAUP,EAAQP,EAAOb,GAMvD,IAAqBuB,EAHjB,OAAOJ,EASX,SAASQ,EAAUC,EAAYf,EAAOb,GAClC,QAAoB,IAATA,EACP,OAAOA,EAAIqB,SAAS,MAAS,GAAEO,eAAwB5B,OAASa,MAAa,GAAEe,YAAqB5B,OAASa,M,qCAQrH,IAAIW,EAAiB,CACjB,IAAsB,yCACtB,QAAsB,uCACtB,WAAsB,kEACtB,mBAAsB,kDACtB,mBAAsB,qDACtB,cAAsB,8BACtB,UAAsB,0BACtB,OAAsB,gCAEtB,UAA4B,oDAC5B,iBAA4B,oDAC5B,oBAA4B,yCAC5B,yBAA4B,qCAC5B,iBAA4B,0BAC5B,iBAA4B,kCAC5B,mBAA4B,qCAC5B,kBAA4B,6BAC5B,gBAA4B,+B","sources":["webpack://k6-summary-to-promgateway/webpack/bootstrap","webpack://k6-summary-to-promgateway/webpack/runtime/define property getters","webpack://k6-summary-to-promgateway/webpack/runtime/hasOwnProperty shorthand","webpack://k6-summary-to-promgateway/webpack/runtime/make namespace object","webpack://k6-summary-to-promgateway/./src/send-metrics.js"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","//\n// Main function should be imported and wrapped with the function handleSummary\n//\nexport function convertMetrics(data) {\n    console.log(\"Computing test summary metrics...\")\n\n    const metrics = data.metrics;\n    let metricsPayload = '';\n\n    for (let metric in metrics) {\n        if (metric.includes('{')){\n            continue;\n        }\n        var metricObj = metrics[metric];\n        let metricValues = metricObj['values'];\n        \n        metricsPayload += createGauge(metric);\n        for (const [key, value] of Object.entries(metricValues)) {\n            metricsPayload += addValues(metric, value, key);\n        }\n    }\n    return metricsPayload;\n}\n\nfunction createGauge(name){\n    let type = \"gauge\";\n    let help = getMetricHelp(name);\n    return `# TYPE ${name} ${type}\\n# HELP ${name} ${help}\\n`\n}\n\nfunction addValues(metricName, value, key){\n    if (typeof key !== `undefined`){\n        return key.includes('p(') ? `${metricName}{quantile=\"${key}\"} ${value}\\n` : `${metricName}{label=\"${key}\"} ${value}\\n`;\n    }\n}\n\nfunction getMetricHelp(metricName){\n    return builtinMetrics[metricName.split('{')[0]]\n}\n\nlet builtinMetrics = {\n    \"vus\":                \"Current number of active virtual users\",\n    \"vus_max\":            \"Max possible number of virtual users\",\n    \"iterations\":         \"The aggregate number of times the VUs in the test have executed\",\n    \"iteration_duration\": \"The time it took to complete one full iteration\",\n    \"dropped_iterations\": \"The number of iterations that could not be started\",\n    \"data_received\":      \"The amount of received data\",\n    \"data_sent\":          \"The amount of data sent\",\n    \"checks\":             \"The rate of successful checks\",\n\n    \"http_reqs\":                \"How many HTTP requests has k6 generated, in total\",\n    \"http_req_blocked\":         \"Time spent blocked  before initiating the request\",\n    \"http_req_connecting\":      \"Time spent establishing TCP connection\",\n    \"http_req_tls_handshaking\": \"Time spent handshaking TLS session\",\n    \"http_req_sending\":         \"Time spent sending data\",\n    \"http_req_waiting\":         \"Time spent waiting for response\",\n    \"http_req_receiving\":       \"Time spent receiving response data\",\n    \"http_req_duration\":        \"Total time for the request\",\n    \"http_req_failed\":          \"The rate of failed requests\",\n}\n"],"names":["__webpack_require__","exports","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","Symbol","toStringTag","value","convertMetrics","data","console","log","metrics","metricsPayload","metric","includes","metricValues","name","builtinMetrics","split","entries","addValues","metricName"],"sourceRoot":""}